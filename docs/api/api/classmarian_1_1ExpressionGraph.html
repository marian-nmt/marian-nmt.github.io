<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class ExpressionGraph &mdash; Marian NMT v1.10.27 2022-01-25 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="canonical" href="http://marian-nmt.github.io/docs/api/api/classmarian_1_1ExpressionGraph.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class ExpressionGraphONNXExporter" href="classmarian_1_1ExpressionGraphONNXExporter.html" />
    <link rel="prev" title="Class ExponentialSmoothing" href="classmarian_1_1ExponentialSmoothing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Marian NMT
          </a>
              <div class="version">
                v1.10.27
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../graph.html">Expression graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operators.html">Operations in the Expression Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_index.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">How to contribute to Marian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc_guide.html">Writing documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Marian NMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="library_index.html">Library API</a> &raquo;</li>
      <li>Class ExpressionGraph</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/classmarian_1_1ExpressionGraph.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-expressiongraph">
<span id="exhale-class-classmarian-1-1expressiongraph"></span><h1>Class ExpressionGraph<a class="headerlink" href="#class-expressiongraph" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_src_graph_expression_graph.h.html#file-src-graph-expression-graph-h"><span class="std std-ref">File expression_graph.h</span></a></p></li>
</ul>
<section id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">¶</a></h2>
<section id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">std::enable_shared_from_this&lt;</span> <span class="pre">ExpressionGraph</span> <span class="pre">&gt;</span></code></p></li>
</ul>
</section>
<section id="derived-types">
<h3>Derived Types<a class="headerlink" href="#derived-types" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">marian::ExpressionGraphONNXExporter</span></code> (<a class="reference internal" href="classmarian_1_1ExpressionGraphONNXExporter.html#exhale-class-classmarian-1-1expressiongraphonnxexporter"><span class="std std-ref">Class ExpressionGraphONNXExporter</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">marian::ExpressionGraphPackable</span></code> (<a class="reference internal" href="classmarian_1_1ExpressionGraphPackable.html#exhale-class-classmarian-1-1expressiongraphpackable"><span class="std std-ref">Class ExpressionGraphPackable</span></a>)</p></li>
</ul>
</section>
</section>
<section id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv4N6marian15ExpressionGraphE">
<span id="_CPPv3N6marian15ExpressionGraphE"></span><span id="_CPPv2N6marian15ExpressionGraphE"></span><span id="marian::ExpressionGraph"></span><span class="target" id="classmarian_1_1ExpressionGraph"></span><em class="property">class </em><code class="sig-name descname">ExpressionGraph</code> : <em class="property">public</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::enable_shared_from_this&lt;<a class="reference internal" href="#_CPPv4N6marian15ExpressionGraphE" title="marian::ExpressionGraph">ExpressionGraph</a>&gt;<a class="headerlink" href="#_CPPv4N6marian15ExpressionGraphE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Main implementation of a computation graph. </p>
<p>Keeps a record of data (tensors) and all operations. Each operation in a computation graph is a <a class="reference internal" href="classmarian_1_1Node.html#classmarian_1_1Node"><span class="std std-ref">Node</span></a>. Each <a class="reference internal" href="classmarian_1_1Node.html#classmarian_1_1Node"><span class="std std-ref">Node</span></a> defines its forward and backward steps. </p>
<p>Subclassed by <a class="reference internal" href="classmarian_1_1ExpressionGraphONNXExporter.html#classmarian_1_1ExpressionGraphONNXExporter"><span class="std std-ref">marian::ExpressionGraphONNXExporter</span></a>, <a class="reference internal" href="classmarian_1_1ExpressionGraphPackable.html#classmarian_1_1ExpressionGraphPackable"><span class="std std-ref">marian::ExpressionGraphPackable</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph15ExpressionGraphEb">
<span id="_CPPv3N6marian15ExpressionGraph15ExpressionGraphEb"></span><span id="_CPPv2N6marian15ExpressionGraph15ExpressionGraphEb"></span><span id="marian::ExpressionGraph::ExpressionGraph__b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a40b3f2a4c0bacb782241f321bd1d429c"></span><code class="sig-name descname">ExpressionGraph</code><span class="sig-paren">(</span>bool <em>inference</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph15ExpressionGraphEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructs a new expression graph. </p>
<p>Constructor should be used as <a class="reference internal" href="function_namespacemarian_1af27077d144a9eaf77f526e4b538861ef.html#namespacemarian_1af27077d144a9eaf77f526e4b538861ef"><span class="std std-ref">New&lt;ExpressionGraph&gt;()</span></a>. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraphD0Ev">
<span id="_CPPv3N6marian15ExpressionGraphD0Ev"></span><span id="_CPPv2N6marian15ExpressionGraphD0Ev"></span><span id="marian::ExpressionGraph::~ExpressionGraph"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a83c362c2cee5f257fd22dbe67bf27238"></span><em class="property">virtual</em> <code class="sig-name descname">~ExpressionGraph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraphD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
<p>Clear everything related to the graph except memoized nodes. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph9setDeviceE8DeviceId3PtrI6DeviceE">
<span id="_CPPv3N6marian15ExpressionGraph9setDeviceE8DeviceId3PtrI6DeviceE"></span><span id="_CPPv2N6marian15ExpressionGraph9setDeviceE8DeviceId3PtrI6DeviceE"></span><span id="marian::ExpressionGraph::setDevice__DeviceId.Ptr:Device:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ab17b5cca39cdd69c5ae9d24cdbd45009"></span>void <code class="sig-name descname">setDevice</code><span class="sig-paren">(</span><a class="reference internal" href="structmarian_1_1DeviceId.html#_CPPv4N6marian8DeviceIdE" title="marian::DeviceId">DeviceId</a> <em>deviceId</em> = {0, <a class="reference internal" href="enum_namespacemarian_1a80d9ddedec349b4d83d40d387878bf4c.html#_CPPv4N6marian10DeviceTypeE" title="marian::DeviceType">DeviceType</a>::gpu}, <a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Device.html#_CPPv4N6marian6DeviceE" title="marian::Device">Device</a>&gt; <em>device</em> = nullptr<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph9setDeviceE8DeviceId3PtrI6DeviceE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set device options used to run the graph. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceId</span></code>: a struct type which stores device no. (size_t) and device type (DeviceType::cpu or DeviceType::gpu) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">device</span></code>: a pointer to the device </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11getDeviceIdEv">
<span id="_CPPv3N6marian15ExpressionGraph11getDeviceIdEv"></span><span id="_CPPv2N6marian15ExpressionGraph11getDeviceIdEv"></span><span id="marian::ExpressionGraph::getDeviceId"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a1ace74b5a8551fcfba31f7e40d0adef0"></span><a class="reference internal" href="structmarian_1_1DeviceId.html#_CPPv4N6marian8DeviceIdE" title="marian::DeviceId">DeviceId</a> <code class="sig-name descname">getDeviceId</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11getDeviceIdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get device info for the graph. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>deviceId a struct type which stores device no. (size_t) and device type (DeviceType::cpu or DeviceType::gpu) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph10getBackendEv">
<span id="_CPPv3N6marian15ExpressionGraph10getBackendEv"></span><span id="_CPPv2N6marian15ExpressionGraph10getBackendEv"></span><span id="marian::ExpressionGraph::getBackend"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a714920827388a0d6f880a90c2e5e5be0"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Backend.html#_CPPv4N6marian7BackendE" title="marian::Backend">Backend</a>&gt; <code class="sig-name descname">getBackend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph10getBackendEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get backend pointer for the graph. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Ptr&lt;Backend&gt; pointer to backend </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph12setInferenceEb">
<span id="_CPPv3N6marian15ExpressionGraph12setInferenceEb"></span><span id="_CPPv2N6marian15ExpressionGraph12setInferenceEb"></span><span id="marian::ExpressionGraph::setInference__b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a782978d9389b9f1f6de07399954a5925"></span>void <code class="sig-name descname">setInference</code><span class="sig-paren">(</span>bool <em>inference</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph12setInferenceEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set whether the graph is used for inference only. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11isInferenceEv">
<span id="_CPPv3N6marian15ExpressionGraph11isInferenceEv"></span><span id="_CPPv2N6marian15ExpressionGraph11isInferenceEv"></span><span id="marian::ExpressionGraph::isInference"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a0eb63df912b1cfadd15bac8c111e92e8"></span>bool <code class="sig-name descname">isInference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11isInferenceEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check whether the graph is used for inference only (true) or not. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph16setCheckpointingEb">
<span id="_CPPv3N6marian15ExpressionGraph16setCheckpointingEb"></span><span id="_CPPv2N6marian15ExpressionGraph16setCheckpointingEb"></span><span id="marian::ExpressionGraph::setCheckpointing__b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a01a3b33fcc0380d003a0988487a2d23d"></span>void <code class="sig-name descname">setCheckpointing</code><span class="sig-paren">(</span>bool <em>checkpointing</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph16setCheckpointingEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set whether the graph uses gradient checkpointing. </p>
<p><a class="reference external" href="https://github.com/cybertronai/gradient-checkpointing">Gradient Checkpointing</a> works by trading compute for memory, which reruns a forward-pass segment for each checkpoint segment during backward. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph15isCheckpointingEv">
<span id="_CPPv3N6marian15ExpressionGraph15isCheckpointingEv"></span><span id="_CPPv2N6marian15ExpressionGraph15isCheckpointingEv"></span><span id="marian::ExpressionGraph::isCheckpointing"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a2dbdbe64c3835f1474a101959b825f35"></span>bool <code class="sig-name descname">isCheckpointing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph15isCheckpointingEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check whether the graph uses gradient checkpointing or not. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph12switchParamsERKNSt6stringE">
<span id="_CPPv3N6marian15ExpressionGraph12switchParamsERKNSt6stringE"></span><span id="_CPPv2N6marian15ExpressionGraph12switchParamsERKNSt6stringE"></span><span id="marian::ExpressionGraph::switchParams__ssCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aec6911dc81df2dfbfb2c3ee6cfa6532a"></span>void <code class="sig-name descname">switchParams</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>newNamespace</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph12switchParamsERKNSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set namespace (std::string) for the graph. </p>
<p>Each graph has its own unique namespace, which is used to form the name of a parameter object. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph10copyParamsE3PtrI15ExpressionGraphE">
<span id="_CPPv3N6marian15ExpressionGraph10copyParamsE3PtrI15ExpressionGraphE"></span><span id="_CPPv2N6marian15ExpressionGraph10copyParamsE3PtrI15ExpressionGraphE"></span><span id="marian::ExpressionGraph::copyParams__Ptr:ExpressionGraph:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a589772a0773b068a26af1604111de6f8"></span><em class="property">virtual</em> void <code class="sig-name descname">copyParams</code><span class="sig-paren">(</span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="#_CPPv4N6marian15ExpressionGraphE" title="marian::ExpressionGraph">ExpressionGraph</a>&gt; <em>graph</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph10copyParamsE3PtrI15ExpressionGraphE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Copy all parameter objects from one graph to current graph. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">graph</span></code>: a pointer to a graph object </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph18reserveWorkspaceMBE6size_t">
<span id="_CPPv3N6marian15ExpressionGraph18reserveWorkspaceMBE6size_t"></span><span id="_CPPv2N6marian15ExpressionGraph18reserveWorkspaceMBE6size_t"></span><span id="marian::ExpressionGraph::reserveWorkspaceMB__s"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ae746a90c60109c20fd154ec6f491ea0e"></span>void <code class="sig-name descname">reserveWorkspaceMB</code><span class="sig-paren">(</span>size_t <em>num</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph18reserveWorkspaceMBE6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Preallocate workspace memory (MB) for the graph. </p>
<p>Sets the size of the memory available for the forward and backward step of the training procedure. This does not include model size and optimizer parameters that are allocated outsize workspace. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph14reuseWorkspaceE3PtrI15ExpressionGraphE">
<span id="_CPPv3N6marian15ExpressionGraph14reuseWorkspaceE3PtrI15ExpressionGraphE"></span><span id="_CPPv2N6marian15ExpressionGraph14reuseWorkspaceE3PtrI15ExpressionGraphE"></span><span id="marian::ExpressionGraph::reuseWorkspace__Ptr:ExpressionGraph:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a9ffa36f849946ba0153bd0e8f18e31f9"></span>void <code class="sig-name descname">reuseWorkspace</code><span class="sig-paren">(</span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="#_CPPv4N6marian15ExpressionGraphE" title="marian::ExpressionGraph">ExpressionGraph</a>&gt; <em>graph</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph14reuseWorkspaceE3PtrI15ExpressionGraphE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Copy tensor objects from one graph to current graph. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8backpropEv">
<span id="_CPPv3N6marian15ExpressionGraph8backpropEv"></span><span id="_CPPv2N6marian15ExpressionGraph8backpropEv"></span><span id="marian::ExpressionGraph::backprop"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aac6f1862944bd673e6874662d9d4b465"></span>void <code class="sig-name descname">backprop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8backpropEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Performs backpropagation on this expression graph. </p>
<p>Backpropagation is implemented by performing first the forward pass and then the backward pass of algorithmic differentiation (AD) on the nodes of the graph. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4fitsEv">
<span id="_CPPv3N6marian15ExpressionGraph4fitsEv"></span><span id="_CPPv2N6marian15ExpressionGraph4fitsEv"></span><span id="marian::ExpressionGraph::fits"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a1ce5fad852cb6d30cfd0a2d729bb44c3"></span>bool <code class="sig-name descname">fits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4fitsEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform one backpropagation process on the graph to test whether the graph workspace fits into a given workspace memory. </p>
<p>This function is used for searching the maximum batch size that fits into given workspace memory. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8checkNaNE6TensorRbRb">
<span id="_CPPv3N6marian15ExpressionGraph8checkNaNE6TensorRbRb"></span><span id="_CPPv2N6marian15ExpressionGraph8checkNaNE6TensorRbRb"></span><span id="marian::ExpressionGraph::checkNaN__Tensor.bR.bR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aea4e03fe8edf2c5a949addc417637530"></span>void <code class="sig-name descname">checkNaN</code><span class="sig-paren">(</span>Tensor <em>t</em>, bool &amp;<em>isNaN</em>, bool &amp;<em>isInf</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8checkNaNE6TensorRbRb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check whether the memory allocated for a tensor object contains a NaN or infinite value. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: a Tensor object </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isNaN</span></code>: a bool type holds the result whether the tensor contains a NaN value (pass by reference) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isInf</span></code>: a bool type holds the result whether the tensor contains a infinite value (pass by reference) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph7forwardEv">
<span id="_CPPv3N6marian15ExpressionGraph7forwardEv"></span><span id="_CPPv2N6marian15ExpressionGraph7forwardEv"></span><span id="marian::ExpressionGraph::forward"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aa7596e34cc2895cf374ce06d9d5ee370"></span>void <code class="sig-name descname">forward</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph7forwardEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform the forward pass on the nodes of the graph. </p>
<p>The forward pass refers to the calculation process. It traverses through all nodes from input layer to output layer. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11forwardNextEv">
<span id="_CPPv3N6marian15ExpressionGraph11forwardNextEv"></span><span id="_CPPv2N6marian15ExpressionGraph11forwardNextEv"></span><span id="marian::ExpressionGraph::forwardNext"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a41337743d6e030cf6b8e2b2e4d39a908"></span>void <code class="sig-name descname">forwardNext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11forwardNextEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform the forward pass without memory allocation for parameters. </p>
<p>Helper function for <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1aa7596e34cc2895cf374ce06d9d5ee370"><span class="std std-ref">forward()</span></a>. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph7forwardERNSt4listI4ExprEEb">
<span id="_CPPv3N6marian15ExpressionGraph7forwardERNSt4listI4ExprEEb"></span><span id="_CPPv2N6marian15ExpressionGraph7forwardERNSt4listI4ExprEEb"></span><span id="marian::ExpressionGraph::forward__std::list:Expr:R.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ab319d09a727e1799bd97bd7e09b71b9e"></span>void <code class="sig-name descname">forward</code><span class="sig-paren">(</span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::list&lt;<a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a>&gt; &amp;<em>forwardTape</em>, bool <em>finalPass</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph7forwardERNSt4listI4ExprEEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform forward pass on a given nodes with finalPass flag. </p>
<p>Helper function for <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1aa7596e34cc2895cf374ce06d9d5ee370"><span class="std std-ref">forward()</span></a> and <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a73ec900b3c8af95ba4835ccd3cee8a8e"><span class="std std-ref">backward()</span></a>. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">forwardTape</span></code>: a pointer to the nodes used for forward pass </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finalPass</span></code>: a bool type which controls whether nodes should be freed with gradient-checkpointing </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8backwardEbf">
<span id="_CPPv3N6marian15ExpressionGraph8backwardEbf"></span><span id="_CPPv2N6marian15ExpressionGraph8backwardEbf"></span><span id="marian::ExpressionGraph::backward__b.float"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a73ec900b3c8af95ba4835ccd3cee8a8e"></span>void <code class="sig-name descname">backward</code><span class="sig-paren">(</span>bool <em>reset</em> = true, float <em>clipValue</em> = 0.f<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8backwardEbf" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform the backward pass on the trainable nodes of the graph. </p>
<p>The back pass refers to the process of computing the output error. It traverses through all nodes from output layer to input layer. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8graphvizEv">
<span id="_CPPv3N6marian15ExpressionGraph8graphvizEv"></span><span id="_CPPv2N6marian15ExpressionGraph8graphvizEv"></span><span id="marian::ExpressionGraph::graphviz"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a3bbdbd8964031c78c7825958d1e9c9fe"></span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string <code class="sig-name descname">graphviz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8graphvizEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Generate graph layout in Graphviz format for visualisation. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a string presenting graph layout in Graphviz format (dot) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8graphvizERKNSt6stringE">
<span id="_CPPv3N6marian15ExpressionGraph8graphvizERKNSt6stringE"></span><span id="_CPPv2N6marian15ExpressionGraph8graphvizERKNSt6stringE"></span><span id="marian::ExpressionGraph::graphviz__ssCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a88799e5f11eafccfcd165c4ecee9d04f"></span>void <code class="sig-name descname">graphviz</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8graphvizERKNSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Write graph layout in Graphviz format to a file. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code>: a string type specifies filename that writes the graph layout </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEK4Typeb">
<span id="_CPPv3N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEK4Typeb"></span><span id="_CPPv2N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEK4Typeb"></span><span id="marian::ExpressionGraph::param__ssCR.ShapeCR.Ptr:inits::NodeInitializer:CR.TypeC.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a9299255aee112a272e3dfd3f52a5c364"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">param</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>pname</em>, <em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;inits::<a class="reference internal" href="classmarian_1_1inits_1_1NodeInitializer.html#_CPPv4N6marian5inits15NodeInitializerE" title="marian::inits::NodeInitializer">NodeInitializer</a>&gt; &amp;<em>init</em>, <em class="property">const</em> <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em>, bool <em>fixed</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEK4Typeb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a parameter node in the graph. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a pointer to the parameter node </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pname</span></code>: a string type holds the name of the parameter node </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the parameter tensor e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code>: a pointer to a NodeInitializer object, e.g., inits::zeros() </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed</span></code>: a bool type specifies whether the parameter object is fixed (not trainable) or not. The default value is false which means the parameter is trainable. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEb">
<span id="_CPPv3N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEb"></span><span id="_CPPv2N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEb"></span><span id="marian::ExpressionGraph::param__ssCR.ShapeCR.Ptr:inits::NodeInitializer:CR.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a9ea5ac6eaf95a8f038dc1b94547652ad"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">param</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>pname</em>, <em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;inits::<a class="reference internal" href="classmarian_1_1inits_1_1NodeInitializer.html#_CPPv4N6marian5inits15NodeInitializerE" title="marian::inits::NodeInitializer">NodeInitializer</a>&gt; &amp;<em>init</em>, bool <em>fixed</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph5paramERKNSt6stringERK5ShapeRK3PtrIN5inits15NodeInitializerEEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a parameter node in the graph without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a pointer to the parameter node </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pname</span></code>: a string type holds the name of the parameter node </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the parameter tensor e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code>: a pointer to a NodeInitializer object, e.g., inits::zeros() </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed</span></code>: a bool type specifies whether the parameter object is fixed (not trainable) or not. The default value is false which means the parameter is trainable. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE4Type">
<span id="_CPPv3N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE4Type"></span><span id="marian::ExpressionGraph::constant__ShapeCR.Ptr:inits::NodeInitializer:CR.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a680dfd8b1dcbe749b0bb73e6508df78b"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">constant</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;inits::<a class="reference internal" href="classmarian_1_1inits_1_1NodeInitializer.html#_CPPv4N6marian5inits15NodeInitializerE" title="marian::inits::NodeInitializer">NodeInitializer</a>&gt; &amp;<em>init</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node in the graph without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a pointer to the constant node </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant tensor e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code>: a pointer to a NodeInitializer object, e.g., inits::zeros() </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE">
<span id="_CPPv3N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE"></span><span id="_CPPv2N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE"></span><span id="marian::ExpressionGraph::constant__ShapeCR.Ptr:inits::NodeInitializer:CR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a4c1566ae8562148b3d1c4f262a6512b4"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">constant</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;inits::<a class="reference internal" href="classmarian_1_1inits_1_1NodeInitializer.html#_CPPv4N6marian5inits15NodeInitializerE" title="marian::inits::NodeInitializer">NodeInitializer</a>&gt; &amp;<em>init</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8constantERK5ShapeRK3PtrIN5inits15NodeInitializerEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node in the graph without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a pointer to the constant node </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant tensor e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code>: a pointer to a NodeInitializer object, e.g., inits::zeros() </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE">
<span id="_CPPv3N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE"></span><span id="_CPPv2N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE"></span><span id="marian::ExpressionGraph::indices__std::vector:IndexType:CR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a47a315cb48cb4bebf1472f470c026c1e"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">indices</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::vector&lt;<a class="reference internal" href="typedef_namespacemarian_1af472f150bf0d608c36430a11b2f1b49c.html#_CPPv4N6marian9IndexTypeE" title="marian::IndexType">IndexType</a>&gt; &amp;<em>indicesVector</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn vector of indices to integer tensor. </p>
<p>A shortcut version to turn vector of indices to integer tensor, to be used with operators like rows() or <a class="reference internal" href="function_group__graph__ops_1gadde699f22f8d4add0bd3aad995ed0383.html#group__graph__ops_1gadde699f22f8d4add0bd3aad995ed0383"><span class="std std-ref">index_select()</span></a> <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">indicesVector</span></code>: a vector of IndexType (uint32_t) specifies the indexes </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE4Expri">
<span id="_CPPv3N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE4Expri"></span><span id="_CPPv2N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE4Expri"></span><span id="marian::ExpressionGraph::indices__std::vector:IndexType:CR.Expr.i"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a93dfcc7bf0601e7ca936f9fc8841cf3f"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">indices</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::vector&lt;<a class="reference internal" href="typedef_namespacemarian_1af472f150bf0d608c36430a11b2f1b49c.html#_CPPv4N6marian9IndexTypeE" title="marian::IndexType">IndexType</a>&gt; &amp;<em>indicesVector</em>, <a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <em>indexee</em>, int <em>axis</em> = -1<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph7indicesERKNSt6vectorI9IndexTypeEE4Expri" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specify the indexes of elements to be taken from a tensor. </p>
<p>This version sets up the shape such that the indices are in a given axis. Use this if you want to pass these indices to <a class="reference internal" href="function_group__graph__ops_1ga9a1b506457b4700c2a42442b78a9df51.html#group__graph__ops_1ga9a1b506457b4700c2a42442b78a9df51"><span class="std std-ref">gather()</span></a>. E.g., indexee shape = (3, 2, 5, 2); axis = 1 -&gt; resulting shape = (1, size of indicesVector, 1, 1):<ul class="simple">
<li><p>The size of the resulting shape is the same as that of the indexee; here is 4.</p></li>
<li><p>The shape of the specified axis is equal to the size of given indicesVector.</p></li>
<li><p>The shapes of the rest axes are filled with 1. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist">
<li><p><code class="docutils literal notranslate"><span class="pre">indicesVector</span></code>: a vector of IndexType (uint32_t) specifies the indexes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indexee</span></code>: the source tensor that we want to select elements from </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span></code>: specifies the axis that we want to collect along </p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4onesERK5Shape4Type">
<span id="_CPPv3N6marian15ExpressionGraph4onesERK5Shape4Type"></span><span id="_CPPv2N6marian15ExpressionGraph4onesERK5Shape4Type"></span><span id="marian::ExpressionGraph::ones__ShapeCR.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a12035ca17f6e3ce290bd7dc7fbb0f358"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">ones</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4onesERK5Shape4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node filled with <code class="docutils literal notranslate"><span class="pre">1</span></code>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4onesERK5Shape">
<span id="_CPPv3N6marian15ExpressionGraph4onesERK5Shape"></span><span id="_CPPv2N6marian15ExpressionGraph4onesERK5Shape"></span><span id="marian::ExpressionGraph::ones__ShapeCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a3e873afb545254e462aed7d0a45f4c0b"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">ones</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4onesERK5Shape" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node filled with <code class="docutils literal notranslate"><span class="pre">1</span></code> without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph5zerosERK5Shape4Type">
<span id="_CPPv3N6marian15ExpressionGraph5zerosERK5Shape4Type"></span><span id="_CPPv2N6marian15ExpressionGraph5zerosERK5Shape4Type"></span><span id="marian::ExpressionGraph::zeros__ShapeCR.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ab31401ff357918fa4e0aaa15ba61e1dd"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">zeros</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph5zerosERK5Shape4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node filled with <code class="docutils literal notranslate"><span class="pre">0</span></code>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph5zerosERK5Shape">
<span id="_CPPv3N6marian15ExpressionGraph5zerosERK5Shape"></span><span id="_CPPv2N6marian15ExpressionGraph5zerosERK5Shape"></span><span id="marian::ExpressionGraph::zeros__ShapeCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a8018b4710b6a6e6d5b1b3505043c097a"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">zeros</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph5zerosERK5Shape" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a constant node filled with <code class="docutils literal notranslate"><span class="pre">0</span></code> without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11dropoutMaskEfRK5Shape4Type">
<span id="_CPPv3N6marian15ExpressionGraph11dropoutMaskEfRK5Shape4Type"></span><span id="_CPPv2N6marian15ExpressionGraph11dropoutMaskEfRK5Shape4Type"></span><span id="marian::ExpressionGraph::dropoutMask__float.ShapeCR.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a6ccd4382c7db8e577a90ecdba78c515c"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">dropoutMask</code><span class="sig-paren">(</span>float <em>dropProb</em>, <em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11dropoutMaskEfRK5Shape4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a dropout mask (a tensor of 0 and 1). </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dropProb</span></code>: a float type specifies the dropout probability. E.g., dropProb=0.1 means 90% of values are kept. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11dropoutMaskEfRK5Shape">
<span id="_CPPv3N6marian15ExpressionGraph11dropoutMaskEfRK5Shape"></span><span id="_CPPv2N6marian15ExpressionGraph11dropoutMaskEfRK5Shape"></span><span id="marian::ExpressionGraph::dropoutMask__float.ShapeCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a934766a4819776aaedc3fd67d4b34724"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">dropoutMask</code><span class="sig-paren">(</span>float <em>dropProb</em>, <em class="property">const</em> <a class="reference internal" href="structmarian_1_1Shape.html#_CPPv4N6marian5ShapeE" title="marian::Shape">Shape</a> &amp;<em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11dropoutMaskEfRK5Shape" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a dropout mask (a tensor of 0 and 1) without a specified type, and the type is set to defaultElementType_. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dropProb</span></code>: a float type specifies the dropout probability. E.g., dropProb=0.1 means 90% of values are kept. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: a struct type defines the shape of the constant dataset e.g., shape={2,3} means 2D matrix with dim[0]=2 and dim[1]=3 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph3getENSt6stringE">
<span id="_CPPv3N6marian15ExpressionGraph3getENSt6stringE"></span><span id="_CPPv2N6marian15ExpressionGraph3getENSt6stringE"></span><span id="marian::ExpressionGraph::get__ss"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a89df066a4abd34e1e999303cc53edd1e"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">get</code><span class="sig-paren">(</span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph3getENSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the parameter object by name. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: a string specifies the name of the parameter object </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph3getENSt6stringE4Type">
<span id="_CPPv3N6marian15ExpressionGraph3getENSt6stringE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph3getENSt6stringE4Type"></span><span id="marian::ExpressionGraph::get__ss.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1adaae3320896a589590cd58b6e5a912a7"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">get</code><span class="sig-paren">(</span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string <em>name</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>specifiedElementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph3getENSt6stringE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the parameter object by name and type. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: a string specifies the name of the parameter object </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementType</span></code>: a scoped enumerator (enum class) defines the element type, e.g., <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81a098e7844282e240fdee28a9dac11c1c6"><span class="std std-ref">Type::float16</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph6paramsEv">
<span id="_CPPv3N6marian15ExpressionGraph6paramsEv"></span><span id="_CPPv2N6marian15ExpressionGraph6paramsEv"></span><span id="marian::ExpressionGraph::params"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a01122decdd8ff42c1c4ed519fd0222c9"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Parameters.html#_CPPv4N6marian10ParametersE" title="marian::Parameters">Parameters</a>&gt; &amp;<code class="sig-name descname">params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph6paramsEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return the <a class="reference internal" href="classmarian_1_1Parameters.html#classmarian_1_1Parameters"><span class="std std-ref">Parameters</span></a> object related to the graph. </p>
<p>The <a class="reference internal" href="classmarian_1_1Parameters.html#classmarian_1_1Parameters"><span class="std std-ref">Parameters</span></a> object holds the whole set of the parameter nodes. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph6paramsE4Type">
<span id="_CPPv3N6marian15ExpressionGraph6paramsE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph6paramsE4Type"></span><span id="marian::ExpressionGraph::params__Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a4a9dc0dcb74f41e96c6356497c565f9d"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Parameters.html#_CPPv4N6marian10ParametersE" title="marian::Parameters">Parameters</a>&gt; &amp;<code class="sig-name descname">params</code><span class="sig-paren">(</span><a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>elementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph6paramsE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return the <a class="reference internal" href="classmarian_1_1Parameters.html#classmarian_1_1Parameters"><span class="std std-ref">Parameters</span></a> object related to the graph by elementType. </p>
<p>The <a class="reference internal" href="classmarian_1_1Parameters.html#classmarian_1_1Parameters"><span class="std std-ref">Parameters</span></a> object holds the whole set of the parameter nodes of the given type. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph21setDefaultElementTypeE4Type">
<span id="_CPPv3N6marian15ExpressionGraph21setDefaultElementTypeE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph21setDefaultElementTypeE4Type"></span><span id="marian::ExpressionGraph::setDefaultElementType__Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aa6996eb4628e3363b517962b3a3bc2b0"></span>void <code class="sig-name descname">setDefaultElementType</code><span class="sig-paren">(</span><a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>defaultElementType</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph21setDefaultElementTypeE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set default element type for the graph. </p>
<p>The default value is used if some node type is not specified. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph21getDefaultElementTypeEv">
<span id="_CPPv3N6marian15ExpressionGraph21getDefaultElementTypeEv"></span><span id="_CPPv2N6marian15ExpressionGraph21getDefaultElementTypeEv"></span><span id="marian::ExpressionGraph::getDefaultElementType"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a307a8f4226064265a3e8a7c07545c4e0"></span><a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <code class="sig-name descname">getDefaultElementType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph21getDefaultElementTypeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get default element type for the graph. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph3addE4Expr">
<span id="_CPPv3N6marian15ExpressionGraph3addE4Expr"></span><span id="_CPPv2N6marian15ExpressionGraph3addE4Expr"></span><span id="marian::ExpressionGraph::add__Expr"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a95bb5e6efbc99952867e46f5db9dc461"></span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph3addE4Expr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add a expression node to the graph. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: a pointer to a expression node </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph15allocateForwardE4Expr">
<span id="_CPPv3N6marian15ExpressionGraph15allocateForwardE4Expr"></span><span id="_CPPv2N6marian15ExpressionGraph15allocateForwardE4Expr"></span><span id="marian::ExpressionGraph::allocateForward__Expr"></span><span class="target" id="classmarian_1_1ExpressionGraph_1af1f504f7ab335a350ba177cecc279097"></span>void <code class="sig-name descname">allocateForward</code><span class="sig-paren">(</span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph15allocateForwardE4Expr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate memory for the forward pass of the given node. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: a pointer to a expression node </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph16allocateBackwardE4Expr">
<span id="_CPPv3N6marian15ExpressionGraph16allocateBackwardE4Expr"></span><span id="_CPPv2N6marian15ExpressionGraph16allocateBackwardE4Expr"></span><span id="marian::ExpressionGraph::allocateBackward__Expr"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a2f45dccf37c9fd4686fb86b78e1d08cf"></span>void <code class="sig-name descname">allocateBackward</code><span class="sig-paren">(</span><a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a> <em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph16allocateBackwardE4Expr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate memory for the backward pass of the given node. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: a pointer to a expression node </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4freeERK6Tensor">
<span id="_CPPv3N6marian15ExpressionGraph4freeERK6Tensor"></span><span id="_CPPv2N6marian15ExpressionGraph4freeERK6Tensor"></span><span id="marian::ExpressionGraph::free__TensorCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a1790b36688eff66d18bc602ba9c02b57"></span>void <code class="sig-name descname">free</code><span class="sig-paren">(</span><em class="property">const</em> Tensor &amp;<em>tensor</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4freeERK6Tensor" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free the memory for a tensor object. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tensor</span></code>: a reference to the tensor object </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph9allocatorEv">
<span id="_CPPv3N6marian15ExpressionGraph9allocatorEv"></span><span id="_CPPv2N6marian15ExpressionGraph9allocatorEv"></span><span id="marian::ExpressionGraph::allocator"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a952b74f7356f14245cc97ca457af1a94"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Allocator.html#_CPPv4N6marian9AllocatorE" title="marian::Allocator">Allocator</a>&gt; <code class="sig-name descname">allocator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph9allocatorEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the memory allocator of the graph workspace. </p>
<p>Allocates raw unstructured memory (but 256-byte aligned). </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph18getTensorAllocatorEv">
<span id="_CPPv3N6marian15ExpressionGraph18getTensorAllocatorEv"></span><span id="_CPPv2N6marian15ExpressionGraph18getTensorAllocatorEv"></span><span id="marian::ExpressionGraph::getTensorAllocator"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a3f3026f2e2f5ac73a0671d7f56caf612"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1TensorAllocator.html#_CPPv4N6marian15TensorAllocatorE" title="marian::TensorAllocator">TensorAllocator</a>&gt; <code class="sig-name descname">getTensorAllocator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph18getTensorAllocatorEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the tensor allocator of the graph workspace. </p>
<p>Different from <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a952b74f7356f14245cc97ca457af1a94"><span class="std std-ref">allocator()</span></a> as proper tensor objects are allocated. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph5clearEv">
<span id="_CPPv3N6marian15ExpressionGraph5clearEv"></span><span id="_CPPv2N6marian15ExpressionGraph5clearEv"></span><span id="marian::ExpressionGraph::clear"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a97c49d6448e774f350083559f02719ad"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph5clearEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clear everything apart from parameters and memoized nodes. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11setReloadedEb">
<span id="_CPPv3N6marian15ExpressionGraph11setReloadedEb"></span><span id="_CPPv2N6marian15ExpressionGraph11setReloadedEb"></span><span id="marian::ExpressionGraph::setReloaded__b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ae3a2ead5df1981b78a78f72c363b5a47"></span>void <code class="sig-name descname">setReloaded</code><span class="sig-paren">(</span>bool <em>reloaded</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11setReloadedEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the flag value whether the graph is reloaded (true) or not. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11setThrowNaNEb">
<span id="_CPPv3N6marian15ExpressionGraph11setThrowNaNEb"></span><span id="_CPPv2N6marian15ExpressionGraph11setThrowNaNEb"></span><span id="marian::ExpressionGraph::setThrowNaN__b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1afd1fc82018883fbb7f546e53c34220bc"></span>void <code class="sig-name descname">setThrowNaN</code><span class="sig-paren">(</span>bool <em>throwNaN</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11setThrowNaNEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the flag value whether the graph throws a NaN exception (true) or not. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph11getThrowNaNEv">
<span id="_CPPv3N6marian15ExpressionGraph11getThrowNaNEv"></span><span id="_CPPv2N6marian15ExpressionGraph11getThrowNaNEv"></span><span id="marian::ExpressionGraph::getThrowNaN"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ac05086a488e93a54dcfbcfaa6b25c443"></span>bool <code class="sig-name descname">getThrowNaN</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph11getThrowNaNEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the flag value whether the graph throws a NaN exception (true) or not. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4loadERKNSt6vectorIN2io4ItemEEEb">
<span id="_CPPv3N6marian15ExpressionGraph4loadERKNSt6vectorIN2io4ItemEEEb"></span><span id="_CPPv2N6marian15ExpressionGraph4loadERKNSt6vectorIN2io4ItemEEEb"></span><span id="marian::ExpressionGraph::load__std::vector:io::Item:CR.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1af330cee19a01a581ff0a16a5c0a1c452"></span>void <code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::vector&lt;io::<a class="reference internal" href="structmarian_1_1io_1_1Item.html#_CPPv4N6marian2io4ItemE" title="marian::io::Item">Item</a>&gt; &amp;<em>ioItems</em>, bool <em>markReloaded</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4loadERKNSt6vectorIN2io4ItemEEEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Load model (mainly parameter objects) from array of io::Items. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4loadERKNSt6stringEb">
<span id="_CPPv3N6marian15ExpressionGraph4loadERKNSt6stringEb"></span><span id="_CPPv2N6marian15ExpressionGraph4loadERKNSt6stringEb"></span><span id="marian::ExpressionGraph::load__ssCR.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ad957cae1d7dca60bdae00f3ea4f6f7c5"></span>void <code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>name</em>, bool <em>markReloaded</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4loadERKNSt6stringEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Load model by filename. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4loadEPKvb">
<span id="_CPPv3N6marian15ExpressionGraph4loadEPKvb"></span><span id="_CPPv2N6marian15ExpressionGraph4loadEPKvb"></span><span id="marian::ExpressionGraph::load__voidCP.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1adab45772e962df0e55ed8c50e0f3adbf"></span>void <code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em>, bool <em>markReloaded</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4loadEPKvb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Load model from buffer (a file pointer) </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4mmapEPKvb">
<span id="_CPPv3N6marian15ExpressionGraph4mmapEPKvb"></span><span id="_CPPv2N6marian15ExpressionGraph4mmapEPKvb"></span><span id="marian::ExpressionGraph::mmap__voidCP.b"></span><span class="target" id="classmarian_1_1ExpressionGraph_1acd4961252a29f1b75c27f48f4bcb66c9"></span>void <code class="sig-name descname">mmap</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em>, bool <em>markReloaded</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4mmapEPKvb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn the model (given a file pointer) into a memory-mapped type by converting all the parameter object to memory-mapped version, i.e., <a class="reference internal" href="classmarian_1_1MappedParameters.html#classmarian_1_1MappedParameters"><span class="std std-ref">MappedParameters</span></a>. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4saveERNSt6vectorIN2io4ItemEEE4Type">
<span id="_CPPv3N6marian15ExpressionGraph4saveERNSt6vectorIN2io4ItemEEE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph4saveERNSt6vectorIN2io4ItemEEE4Type"></span><span id="marian::ExpressionGraph::save__std::vector:io::Item:R.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ab0eddb384462c6f82307dd319b5f3840"></span>void <code class="sig-name descname">save</code><span class="sig-paren">(</span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::vector&lt;io::<a class="reference internal" href="structmarian_1_1io_1_1Item.html#_CPPv4N6marian2io4ItemE" title="marian::io::Item">Item</a>&gt; &amp;<em>ioItems</em>, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>saveElementType</em> = <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a>::float32<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4saveERNSt6vectorIN2io4ItemEEE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert all parameters into an array of <a class="reference internal" href="structmarian_1_1io_1_1Item.html#structmarian_1_1io_1_1Item"><span class="std std-ref">io::Item</span></a> elements, for saving. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioItems</span></code>: an array of <a class="reference internal" href="structmarian_1_1io_1_1Item.html#structmarian_1_1io_1_1Item"><span class="std std-ref">io::Item</span></a> elements </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">saveElementType</span></code>: the element type for saving </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph4saveERKNSt6stringERKNSt6stringE4Type">
<span id="_CPPv3N6marian15ExpressionGraph4saveERKNSt6stringERKNSt6stringE4Type"></span><span id="_CPPv2N6marian15ExpressionGraph4saveERKNSt6stringERKNSt6stringE4Type"></span><span id="marian::ExpressionGraph::save__ssCR.ssCR.Type"></span><span class="target" id="classmarian_1_1ExpressionGraph_1aae4a5bdae077720dbe1ae5a871ca5e1d"></span>void <code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>name</em>, <em class="property">const</em> <a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string &amp;<em>meta</em> = &quot;&quot;, <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a> <em>saveElementType</em> = <a class="reference internal" href="enum_namespacemarian_1a2b75d1cec1d73f6a07a1fc4f93604c81.html#_CPPv4N6marian4TypeE" title="marian::Type">Type</a>::float32<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph4saveERKNSt6stringERKNSt6stringE4Type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Save all parameters into a file (.npz or .bin). </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: a string specifies the filename </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meta</span></code>: a string specifies the name of <a class="reference internal" href="structmarian_1_1io_1_1Item.html#structmarian_1_1io_1_1Item"><span class="std std-ref">io::Item</span></a> elements. If not specified, the parameter name is reserved. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">saveElementType</span></code>: the element type for saving </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph">
<span id="_CPPv3N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph"></span><span id="_CPPv2N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph"></span><span id="marian::ExpressionGraph::ExpressionGraph__ExpressionGraphCR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a65e074b28afd37450ef025bb97e06efa"></span><code class="sig-name descname">ExpressionGraph</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph" title="marian::ExpressionGraph::ExpressionGraph">ExpressionGraph</a>&amp;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian15ExpressionGraph15ExpressionGraphERR15ExpressionGraph">
<span id="_CPPv3N6marian15ExpressionGraph15ExpressionGraphERR15ExpressionGraph"></span><span id="_CPPv2N6marian15ExpressionGraph15ExpressionGraphERR15ExpressionGraph"></span><span id="marian::ExpressionGraph::ExpressionGraph__ExpressionGraphRR"></span><span class="target" id="classmarian_1_1ExpressionGraph_1ac1669810aad34acc14f6f2e5eea13a9d"></span><code class="sig-name descname">ExpressionGraph</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6marian15ExpressionGraph15ExpressionGraphERK15ExpressionGraph" title="marian::ExpressionGraph::ExpressionGraph">ExpressionGraph</a>&amp;&amp;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph15ExpressionGraphERR15ExpressionGraph" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph13nodesForward_E">
<span id="_CPPv3N6marian15ExpressionGraph13nodesForward_E"></span><span id="_CPPv2N6marian15ExpressionGraph13nodesForward_E"></span><span id="marian::ExpressionGraph::nodesForward___std::list:Expr:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a10819abcacf6b7ea924a895f90059473"></span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::list&lt;<a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a>&gt; <code class="sig-name descname">nodesForward_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph13nodesForward_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>contains all nodes used for <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1aa7596e34cc2895cf374ce06d9d5ee370"><span class="std std-ref">forward()</span></a> </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph14nodesBackward_E">
<span id="_CPPv3N6marian15ExpressionGraph14nodesBackward_E"></span><span id="_CPPv2N6marian15ExpressionGraph14nodesBackward_E"></span><span id="marian::ExpressionGraph::nodesBackward___std::list:Expr:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a8fa57dfedd51284cf51b1ba25401b646"></span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::list&lt;<a class="reference internal" href="typedef_namespacemarian_1ac8ecc2cc66a7afcc6da94a9bbde5eaa7.html#_CPPv4N6marian4ExprE" title="marian::Expr">Expr</a>&gt; <code class="sig-name descname">nodesBackward_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph14nodesBackward_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>contains trainable nodes used for <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a73ec900b3c8af95ba4835ccd3cee8a8e"><span class="std std-ref">backward()</span></a> </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph8tensors_E">
<span id="_CPPv3N6marian15ExpressionGraph8tensors_E"></span><span id="_CPPv2N6marian15ExpressionGraph8tensors_E"></span><span id="marian::ExpressionGraph::tensors___Ptr:Tensors:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a5dbfe743491d435b12294a7fe229760a"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Tensors.html#_CPPv4N6marian7TensorsE" title="marian::Tensors">Tensors</a>&gt; <code class="sig-name descname">tensors_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8tensors_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A shared pointer to the tensor objects in the graph. </p>
<p>Holds memory and nodes that corresponds to tensors in a graph. Since operations will result in new tensors, this attribute is used to allocate memory for new tensors during <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1aa7596e34cc2895cf374ce06d9d5ee370"><span class="std std-ref">forward()</span></a> and <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a73ec900b3c8af95ba4835ccd3cee8a8e"><span class="std std-ref">backward()</span></a>. This gets cleared before a new graph is built. </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph20paramsByElementType_E">
<span id="_CPPv3N6marian15ExpressionGraph20paramsByElementType_E"></span><span id="_CPPv2N6marian15ExpressionGraph20paramsByElementType_E"></span><span id="marian::ExpressionGraph::paramsByElementType___ElementTypeParamsMap"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a249d2a78d990ddc7373f485260545db5"></span><a class="reference internal" href="typedef_namespacemarian_1a78ce5b921a634bbea5a343baf1f9132b.html#_CPPv4N6marian20ElementTypeParamsMapE" title="marian::ElementTypeParamsMap">ElementTypeParamsMap</a> <code class="sig-name descname">paramsByElementType_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph20paramsByElementType_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A map holds memory and nodes that corresponds to graph parameters. </p>
<p>The key is Type and the mapped value is a set of parameter objects with corresponding type. Now we can have multiple types of parameters in a separate parameters object per value type. This is currently only accessible through private functions during loading, will abort during training when <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a01122decdd8ff42c1c4ed519fd0222c9"><span class="std std-ref">params()</span></a> is called (e.g. optimizer) and there is more or other types than the default parameter type. Currently the only usecase is inference. Trying to access <a class="reference internal" href="#classmarian_1_1ExpressionGraph_1a01122decdd8ff42c1c4ed519fd0222c9"><span class="std std-ref">params()</span></a> for non-default parameter type is going to abort. Inference does not need to access a whole set of parameters. </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph8backend_E">
<span id="_CPPv3N6marian15ExpressionGraph8backend_E"></span><span id="_CPPv2N6marian15ExpressionGraph8backend_E"></span><span id="marian::ExpressionGraph::backend___Ptr:Backend:"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a0f7e6ae1853ea83f5adc80fe3f5b2cb7"></span><a class="reference internal" href="typedef_namespacemarian_1ad1a373be43a00ef9ce35666145137b08.html#_CPPv4N6marian3PtrE" title="marian::Ptr">Ptr</a>&lt;<a class="reference internal" href="classmarian_1_1Backend.html#_CPPv4N6marian7BackendE" title="marian::Backend">Backend</a>&gt; <code class="sig-name descname">backend_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph8backend_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>a shared pointer to the backend for the graph </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian15ExpressionGraph10namespace_E">
<span id="_CPPv3N6marian15ExpressionGraph10namespace_E"></span><span id="_CPPv2N6marian15ExpressionGraph10namespace_E"></span><span id="marian::ExpressionGraph::namespace___ss"></span><span class="target" id="classmarian_1_1ExpressionGraph_1a62c31bfad16a2939bced2f37b45dd8d7"></span><a class="reference internal" href="function_group__graph__ops__mathematical_1gaf4e69a5f7167b63522135a1f6b8a5dd8.html#_CPPv4N6marianStE4Expri" title="marian::std">std</a>::string <code class="sig-name descname">namespace_</code><a class="headerlink" href="#_CPPv4N6marian15ExpressionGraph10namespace_E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>a string defines the namespace of the graph. Each graph has its own unique namespace. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classmarian_1_1ExponentialSmoothing.html" class="btn btn-neutral float-left" title="Class ExponentialSmoothing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="classmarian_1_1ExpressionGraphONNXExporter.html" class="btn btn-neutral float-right" title="Class ExpressionGraphONNXExporter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Marian NMT Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>