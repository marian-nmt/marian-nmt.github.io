<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Program Listing for File utils.cpp &mdash; Marian NMT v1.10.27 2022-01-25 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="canonical" href="http://marian-nmt.github.io/docs/api/api/program_listing_file_src_common_utils.cpp.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Marian NMT
          </a>
              <div class="version">
                v1.10.27
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../graph.html">Expression graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operators.html">Operations in the Expression Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_index.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">How to contribute to Marian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc_guide.html">Writing documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Marian NMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Program Listing for File utils.cpp</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/program_listing_file_src_common_utils.cpp.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="program-listing-for-file-utils-cpp">
<span id="program-listing-file-src-common-utils-cpp"></span><h1>Program Listing for File utils.cpp<a class="headerlink" href="#program-listing-for-file-utils-cpp" title="Permalink to this headline">¶</a></h1>
<p>↰ <a class="reference internal" href="file_src_common_utils.cpp.html#file-src-common-utils-cpp"><span class="std std-ref">Return to documentation for file</span></a> (<code class="docutils literal notranslate"><span class="pre">src/common/utils.cpp</span></code>)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;common/utils.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;common/logging.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;CLI/StringTools.hpp&quot;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;set&gt;</span><span class="cp"></span>
<span class="cp">#if defined(__unix__) || defined(__APPLE__)</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span><span class="cp"></span>
<span class="cp">#endif</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;codecvt&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cwctype&gt;</span><span class="cp"></span>

<span class="c1">// MACOS lacks HOST_NAME_MAX</span>
<span class="cp">#ifndef HOST_NAME_MAX</span>
<span class="cp"># if defined(_POSIX_HOST_NAME_MAX)</span>
<span class="cp">#  define HOST_NAME_MAX _POSIX_HOST_NAME_MAX</span>
<span class="cp"># elif defined(MAXHOSTNAMELEN)</span>
<span class="cp">#  define HOST_NAME_MAX MAXHOSTNAMELEN</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>


<span class="k">namespace</span><span class="w"> </span><span class="nn">marian</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">utils</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">trim</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CLI</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">trim</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; </span><span class="se">\t\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">trimRight</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CLI</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">rtrim</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; </span><span class="se">\t\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">trimLeft</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CLI</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">ltrim</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; </span><span class="se">\t\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="cm">/*out*/</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pieces</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="kt">bool</span><span class="w"> </span><span class="n">keepEmpty</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="kt">bool</span><span class="w"> </span><span class="n">anyOf</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">pieces</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">token</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">delSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anyOf</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">del</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anyOf</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="n">del</span><span class="p">,</span><span class="w"> </span><span class="n">begin</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">del</span><span class="p">,</span><span class="w"> </span><span class="n">begin</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">begin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">begin</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">keepEmpty</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="n">pieces</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">token</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">delSize</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">begin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">begin</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">keepEmpty</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">pieces</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">token</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// the function guarantees that the output has as many elements as requested</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">splitTsv</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">numFields</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">fields</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w"></span>

<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numFields</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">&#39;\t&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">begin</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">fields</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">begin</span><span class="p">));</span><span class="w"></span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">fields</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">begin</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">fields</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numFields</span><span class="p">)</span><span class="w">  </span><span class="c1">// make sure there is as many elements as requested</span>
<span class="w">    </span><span class="n">fields</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">numFields</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="n">ABORT_IF</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Excessive field(s) in the tab-separated line: &#39;{}&#39;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"></span>
<span class="w">                               </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">,</span><span class="w"></span>
<span class="w">                               </span><span class="kt">bool</span><span class="w"> </span><span class="n">keepEmpty</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">,</span><span class="w"></span>
<span class="w">                               </span><span class="kt">bool</span><span class="w"> </span><span class="n">anyOf</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pieces</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">split</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">pieces</span><span class="p">,</span><span class="w"> </span><span class="n">del</span><span class="p">,</span><span class="w"> </span><span class="n">keepEmpty</span><span class="p">,</span><span class="w"> </span><span class="n">anyOf</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">pieces</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="n">splitAny</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="cm">/*out*/</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pieces</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="kt">bool</span><span class="w"> </span><span class="n">keepEmpty</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">split</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">pieces</span><span class="p">,</span><span class="w"> </span><span class="n">del</span><span class="p">,</span><span class="w"> </span><span class="n">keepEmpty</span><span class="p">,</span><span class="w"> </span><span class="cm">/*anyOf =*/</span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">splitAny</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"></span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">,</span><span class="w"></span>
<span class="w">                                  </span><span class="kt">bool</span><span class="w"> </span><span class="n">keepEmpty</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">del</span><span class="p">,</span><span class="w"> </span><span class="n">keepEmpty</span><span class="p">,</span><span class="w"> </span><span class="cm">/*anyOf =*/</span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">words</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">words</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">());</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">transform</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="p">[](</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">,</span><span class="w"> </span><span class="n">del</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="cm">/*= &quot; &quot;*/</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="cm">/*= 5*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">fixed</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setprecision</span><span class="p">(</span><span class="n">prec</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// escapes a string for passing to popen, which uses /bin/sh to parse its argument string</span>
<span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">escapeForPOpen</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">arg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// e.g. abc -&gt; &#39;abc&#39;; my file.txt -&gt; &#39;my file.txt&#39;; $10 -&gt; &#39;$10&#39;; it&#39;s -&gt; &#39;it&#39;\&#39;&#39;s&#39;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">arg</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">// @BUGBUG: This sometimes fails with &quot;sh: 1: Syntax error: Unterminated quoted string&quot;,</span>
<span class="w">  </span><span class="c1">// so since this is not super-critical, we will disable it for now.</span>
<span class="w">  </span><span class="c1">//return &quot;&#39;&quot; + findReplace(arg, &quot;&#39;&quot;, &quot;&#39;\\&#39;&#39;&quot;, /*all=*/ true) + &quot;&#39;&quot;;</span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// execute an external command</span>
<span class="c1">// The command is composed of three pieces:</span>
<span class="c1">//  - the executable path, e.g. --valid-script-path</span>
<span class="c1">//  - an optional array of arguments. Meant for options. E.g. --valid-script-args. Options with leading  - can only be passed via Yaml/Json.</span>
<span class="c1">//  - one more optional single argument. Meant as the main filename argument.</span>
<span class="c1">// Each item will be escaped for shell syntax.</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">exec</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="cm">/*= {}*/</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="cm">/*= &quot;&quot;*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="o">&gt;</span><span class="w"> </span><span class="n">buffer</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="cp">#ifdef _WIN32</span>
<span class="cp">#define popen _popen</span>
<span class="cp">#define pclose _pclose</span>
<span class="cp">#endif</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">cmdLine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">escapeForPOpen</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="c1">// @TODO: proper escaping</span>
<span class="w">    </span><span class="n">cmdLine</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">escapeForPOpen</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">arg</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span><span class="w"></span>
<span class="w">    </span><span class="n">cmdLine</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">escapeForPOpen</span><span class="p">(</span><span class="n">arg</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="c1">//std::cerr &lt;&lt; &quot;###&quot; &lt;&lt; cmdLine &lt;&lt; &quot;###&quot; &lt;&lt; std::endl;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">FILE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pipe</span><span class="p">(</span><span class="n">popen</span><span class="p">(</span><span class="n">cmdLine</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">pclose</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">pipe</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ABORT</span><span class="p">(</span><span class="s">&quot;popen() failed!&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">std</span><span class="o">::</span><span class="n">feof</span><span class="p">(</span><span class="n">pipe</span><span class="p">.</span><span class="n">get</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">fgets</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">pipe</span><span class="p">.</span><span class="n">get</span><span class="p">())</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">buffer</span><span class="p">.</span><span class="n">data</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hostnameAndProcessId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// helper to get hostname:pid</span>
<span class="cp">#ifdef _WIN32</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getenv</span><span class="p">(</span><span class="s">&quot;COMPUTERNAME&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">processId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">GetCurrentProcessId</span><span class="p">();</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// not sure if gethostname() is expensive. This way we call it only once.</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">hostnamebuf</span><span class="p">[</span><span class="n">HOST_NAME_MAX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">gethostname</span><span class="p">(</span><span class="n">hostnamebuf</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">hostnamebuf</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">hostnamebuf</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}();</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">processId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">getpid</span><span class="p">();</span><span class="w"></span>
<span class="cp">#endif</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="n">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">processId</span><span class="p">};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// format a long number with comma separators</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">withCommas</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">n</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">res</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">bool</span><span class="w"> </span><span class="n">beginsWith</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">text</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"></span>
<span class="w">         </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">text</span><span class="p">.</span><span class="n">compare</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">prefix</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">bool</span><span class="w"> </span><span class="n">endsWith</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">suffix</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">text</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">suffix</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"></span>
<span class="w">         </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">text</span><span class="p">.</span><span class="n">compare</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">suffix</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">suffix</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">suffix</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// @TODO: sort these functions into a separate header.</span>
<span class="n">std</span><span class="o">::</span><span class="n">u32string</span><span class="w"> </span><span class="n">utf8ToUnicodeString</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="cp">#ifdef _MSC_VER </span><span class="c1">// workaround for a known bug in VS CRT</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="cm">/*char32_t*/</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="cm">/*char32_t*/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">u32string</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">char32_t</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">utf8FromUnicodeString</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">u32string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="cp">#ifdef _MSC_VER </span><span class="c1">// workaround for a known bug in VS CRT</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="cm">/*char32_t*/</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="cm">/*char32_t*/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">basic_string</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">si</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">si</span><span class="p">);</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">char32_t</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">u16string</span><span class="w"> </span><span class="n">utf8ToUtf16String</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="cp">#ifdef _MSC_VER </span><span class="c1">// workaround for a known bug in VS CRT</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="cm">/*char16_t*/</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">wchar_t</span><span class="cm">/*char16_t*/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">u16string</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">char16_t</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">char16_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">utf8FromUtf16String</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">u16string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="cp">#ifdef _MSC_VER </span><span class="c1">// workaround for a known bug in VS CRT</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="cm">/*char16_t*/</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">wchar_t</span><span class="cm">/*char16_t*/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">basic_string</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">si</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">si</span><span class="p">);</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">wstring_convert</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">codecvt_utf8</span><span class="o">&lt;</span><span class="kt">char16_t</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">char16_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">converter</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// test whether a Unicode code point is in continuous script (e.g. Chinese or Thai)</span>
<span class="c1">// This is used for detok bleu scoring where we have CJT characters.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isContinuousScript</span><span class="p">(</span><span class="kt">char32_t</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// currently, this table is hand-coded, and may need to be extended when the standard grows</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">c</span><span class="p">](</span><span class="kt">char32_t</span><span class="w"> </span><span class="n">minVal</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="w"> </span><span class="n">maxVal</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minVal</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">maxVal</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isHan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2E80</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2E99</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2E9B</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2EF3</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2F00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2FD5</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3005</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3005</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"></span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3007</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3007</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3021</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3029</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3038</span><span class="p">,</span><span class="w"> </span><span class="mh">0x303A</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x303B</span><span class="p">,</span><span class="w"> </span><span class="mh">0x303b</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"></span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3200</span><span class="p">,</span><span class="w"> </span><span class="mh">0x32FF</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// Enclosed CJK Letters and Months, https://en.wikipedia.org/wiki/Enclosed_CJK_Letters_and_Months</span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3400</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4DB5</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// up to here, we have a few gaps compared to sacrebleu</span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x4E00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9FEF</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// sacrebleu: only up to 0x9fbb</span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0xF900</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFA6D</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0xFA70</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFAD9</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// similar to sacrebleu</span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x20000</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2A6D6</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"></span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2A700</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2B734</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2B740</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2B81D</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2B820</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2CEA1</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2CEB0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2EBE0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// not in sacrebleu</span>
<span class="w">               </span><span class="n">in</span><span class="p">(</span><span class="mh">0x2F800</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2FA1D</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isKana</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x3040</span><span class="p">,</span><span class="w"> </span><span class="mh">0x30FF</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w">   </span><span class="c1">// Hiragana, Katakana</span>
<span class="w">                </span><span class="n">in</span><span class="p">(</span><span class="mh">0x1B000</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1B0FF</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// Kana supplement, https://en.wikipedia.org/wiki/Kana_Supplement</span>
<span class="w">                </span><span class="n">in</span><span class="p">(</span><span class="mh">0x1B130</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1B16F</span><span class="p">);</span><span class="w">   </span><span class="c1">// small Kana, https://en.wikipedia.org/wiki/Small_Kana_Extension</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isThai</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">(</span><span class="mh">0x0E00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0E7F</span><span class="p">);</span><span class="w"> </span><span class="c1">// https://en.wikipedia.org/wiki/Thai_(Unicode_block)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">isHan</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">isKana</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">isThai</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Korean characters (Hangul syllables): 0xac00..0xd7a3</span>
<span class="w">  </span><span class="c1">// Korean subwords (Hangul Jamo): 0x1100..0x11ff [https://en.wikipedia.org/wiki/Hangul_Jamo_(Unicode_block)]</span>
<span class="w">  </span><span class="c1">// Sacrebleu uses characters units for Chinese characters; specifically, these ranges:</span>
<span class="w">  </span><span class="cm">/* (ranges as used in sacrebleuy.py)</span>
<span class="cm">        uchar &gt;= u&#39;\u2600&#39; and uchar &lt;= u&#39;\u27bf&#39;  ## missing above</span>
<span class="cm">        uchar &gt;= u&#39;\u2e80&#39;                         # CJK Radicals Supplement</span>
<span class="cm">        uchar &gt;= u&#39;\u2f00&#39; and uchar &lt;= u&#39;\u2fdf&#39;  # Kangxi Radicals</span>
<span class="cm">        uchar &gt;= u&#39;\u2ff0&#39;                         # Chinese character structure</span>
<span class="cm">        uchar &gt;= u&#39;\u3000&#39; and uchar &lt;= u&#39;\u303f&#39;  # CJK punctuation mark           ## 3040..30ff = Kana</span>
<span class="cm">        uchar &gt;= u&#39;\u3100&#39; and uchar &lt;= u&#39;\u312f&#39;  # Phonetic symbols</span>
<span class="cm">        uchar &gt;= u&#39;\u31a0&#39;                         # Phonetic symbols (Taiwanese and Hakka expansion)</span>
<span class="cm">        uchar &gt;= u&#39;\u31c0&#39; and uchar &lt;= u&#39;\u31ef&#39;  # CJK stroke</span>
<span class="cm">        uchar &gt;= u&#39;\u3200&#39; and uchar &lt;= u&#39;\u4db5&#39;  # CJK Unified Ideographs Extension A, release 3.0</span>
<span class="cm">        uchar &gt;= u&#39;\u4e00&#39;                         # CJK Unified Ideographs, release 1.1</span>
<span class="cm">        uchar &gt;= u&#39;\u9fa6&#39; and uchar &lt;= u&#39;\u9fbb&#39;  # CJK Unified Ideographs, release 4.1</span>
<span class="cm">        uchar &gt;= u&#39;\uf900&#39; and uchar &lt;= u&#39;\ufa2d&#39;  # CJK Compatibility Ideographs, release 1.1</span>
<span class="cm">        uchar &gt;= u&#39;\ufa30&#39; and uchar &lt;= u&#39;\ufa6a&#39;  # CJK Compatibility Ideographs, release 3.2</span>
<span class="cm">        uchar &gt;= u&#39;\ufa70&#39; and uchar &lt;= u&#39;\ufad9&#39;  # CJK Compatibility Ideographs, release 4.1</span>
<span class="cm">        uchar &gt;= u&#39;\ufe10&#39; and uchar &lt;= u&#39;\ufe1f&#39;  ## missing above</span>
<span class="cm">        uchar &gt;= u&#39;\ufe30&#39; and uchar &lt;= u&#39;\ufe4f&#39;  ## missing above</span>
<span class="cm">        uchar &gt;= u&#39;\uff00&#39; and uchar &lt;= u&#39;\uffef&#39;  # Full width ASCII, full width of English punctuation, half width Katakana, half wide half width kana, Korean alphabet</span>
<span class="cm">        uchar &gt;= u&#39;\u20000&#39; and uchar &lt;= u&#39;\u2a6d6&#39;  # CJK Unified Ideographs Extension B, release 3.1</span>
<span class="cm">        uchar &gt;= u&#39;\u2f800&#39; and uchar &lt;= u&#39;\u2fa1d&#39;  # CJK Compatibility Supplement, release 3.1</span>
<span class="cm">  */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// convert UTF-8 characters to lower or upper case</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">UTF8Mapper</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// can&#39;t use the standard lib functions because MS-internal Philly servers do not have UTF-8 locale installed</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">char32_t</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">toUpperMap</span><span class="p">,</span><span class="w"> </span><span class="n">toLowerMap</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">UTF8Mapper</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="cm">/*</span>
<span class="cm">      env LC_ALL=en_US.UTF-8 sed &#39;s/\(.\)/\1\n/g&#39;   TEXT_FILE_CONTAINING_ALL_CHARS &gt; l</span>
<span class="cm">      env LC_ALL=en_US.UTF-8 sed &#39;s/\(.\)/\U\1\n/g&#39; TEXT_FILE_CONTAINING_ALL_CHARS &gt; u</span>
<span class="cm">      paste l u | env LC_ALL=en_US.UTF-8 sort -u &gt; x</span>
<span class="cm">      cat x | awk &#39;{if($1 != $2){print}}&#39; &gt; y</span>
<span class="cm">      cat y | tr -d &#39;\r&#39; \</span>
<span class="cm">        | od -w10000 -t x1 \</span>
<span class="cm">        | head -1 \</span>
<span class="cm">        | sed -e &#39;s/^0000000 /{{&quot;.x/g&#39; -e &#39;s/ 09 /&quot;,&quot;.x/g&#39; -e &#39;s/ 0a /&quot;},{&quot;.x/g&#39; -e &#39;s/ 0a$/&quot;}/&#39; -e &#39;s/ /.x/g&#39; \</span>
<span class="cm">        | tr &#39;.&#39; &#39;\\&#39; \</span>
<span class="cm">        | xclip</span>
<span class="cm">    */</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">map8</span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;</span><span class="se">\xc9\x92</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe2\xb1\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x61</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x41</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x81</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa0</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x80</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa2</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x8e</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x8d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\xba</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x85</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa4</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x84</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x83</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x85</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x84</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x81</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x80</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa6</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x62</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x42</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x63</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x43</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x89</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x87</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x64</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x44</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb0</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x65</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x45</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x89</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xa8</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xbe</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x81</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x80</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x85</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x84</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xaa</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xbd</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xbc</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x97</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x97</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xba</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\xb8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x9d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x66</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x46</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x67</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x47</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\xb4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\x9d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc9\xa0</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\x93</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x68</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x48</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x69</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x49</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x49</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xac</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xae</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x90</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x8f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x8f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x89</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6a</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xb4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xb6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc6\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6c</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xba</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xb9</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xbd</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x82</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x81</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc4\xbc</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc4\xbb</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xb6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb8\xbe</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6e</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x84</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x83</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x88</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x87</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x91</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x85</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x84</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x86</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x85</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x89</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x6f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x4f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x93</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb2</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb4</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x92</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x91</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb6</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x95</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb8</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc6\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc9\x94</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x70</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x50</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x71</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x51</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x72</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x52</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x97</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x73</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x53</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x9d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x74</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x54</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x75</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x55</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xba</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xb9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x99</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x9b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x94</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x93</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x98</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x97</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc7\x9c</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc7\x9b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xbc</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xb9\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc6\xb0</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\xaf</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x76</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x56</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x77</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x57</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x78</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x58</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x79</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x59</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xbd</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x9d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xbb\xb8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\x7a</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\x5a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xba</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xb9</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xbd</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc5\xbc</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc5\xbb</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc6\xb6</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\xb5</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xe1\xba\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xe1\xba\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc8\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc8\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xc3\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc3\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xca\x92</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xc6\xb7</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x91</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xac</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb2</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x93</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb4</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x95</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xad</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb6</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x97</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xae</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x89</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb8</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xb9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x99</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x8a</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xba</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xbc</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xbd</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xce\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x9f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x8c</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x80</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa3</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x82</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa3</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x84</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x85</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa5</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xab</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x86</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa7</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x88</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x89</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\xa9</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xcf\x8e</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xce\x8f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb0</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x91</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb2</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x93</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\x92</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb4</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x94</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x93</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x83</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x92</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x95</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x90</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x80</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x94</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x84</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x91</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x81</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb6</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x96</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x97</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x95</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x85</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb8</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x98</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x96</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x86</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x97</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x87</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xb9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x99</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x98</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xba</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\x9a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\x84</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\x83</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x99</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x89</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xbc</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xbd</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x9a</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x8a</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\xa7</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\xa9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd0\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x9f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x80</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x81</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa1</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x82</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x9c</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x8c</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x9b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x8b</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x83</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa3</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd3\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd3\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xb1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xb0</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xaf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x9e</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x84</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa4</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x85</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa5</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xb3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xb2</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd2\xbb</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd2\xba</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x86</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa6</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x87</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa7</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x9f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\x8f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x88</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa8</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x89</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xa9</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8a</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xaa</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8b</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xab</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8c</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xac</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8d</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xad</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8e</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xae</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd1\x8f</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd0\xaf</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xa1</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd4\xb1</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xa3</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd4\xb3</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xa5</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd4\xb5</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xab</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd4\xbb</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xac</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd4\xbc</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xb2</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x82</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xb8</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x88</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xbd</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x8d</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xbe</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x8e</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd5\xbf</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x8f</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd6\x80</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x90</span><span class="s">&quot;</span><span class="p">},{</span><span class="s">&quot;</span><span class="se">\xd6\x81</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\xd5\x91</span><span class="s">&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">p8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">map8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utf8ToUnicodeString</span><span class="p">(</span><span class="n">p8</span><span class="p">.</span><span class="n">first</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">to</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">utf8ToUnicodeString</span><span class="p">(</span><span class="n">p8</span><span class="p">.</span><span class="n">second</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">ABORT_IF</span><span class="p">(</span><span class="n">from</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">to</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Incorrect character encoding??&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">toUpperMap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="n">from</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span><span class="w"> </span><span class="n">to</span><span class="p">.</span><span class="n">front</span><span class="p">()));</span><span class="w"></span>
<span class="w">      </span><span class="n">toLowerMap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="n">to</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span><span class="w"> </span><span class="n">from</span><span class="p">.</span><span class="n">front</span><span class="p">()));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="kt">char32_t</span><span class="w"> </span><span class="n">toUpperOrLower</span><span class="p">(</span><span class="kt">char32_t</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">toLower</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">mapChar</span><span class="p">(</span><span class="n">toLower</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">toLowerMap</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">toUpperMap</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">char32_t</span><span class="w"> </span><span class="n">mapChar</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">char32_t</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="kt">char32_t</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">iter</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">end</span><span class="p">())</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">iter</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// shared implementation of toUpper, toLower, and toCapitalized</span>
<span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">utf8ToUpperOrLower</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">toLower</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">toInitCap</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">UTF8Mapper</span><span class="w"> </span><span class="n">utf8Mapper</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utf8ToUnicodeString</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ws</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utf8Mapper</span><span class="p">.</span><span class="n">toUpperOrLower</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">toLower</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">toInitCap</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">toLower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">utf8FromUnicodeString</span><span class="p">(</span><span class="n">ws</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">utf8ToUpper</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">utf8ToUpperOrLower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="cm">/*toLower=*/</span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="cm">/*toInitCap=*/</span><span class="nb">false</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">utf8ToLower</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">utf8ToUpperOrLower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="cm">/*toLower=*/</span><span class="nb">true</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="cm">/*toInitCap=*/</span><span class="nb">false</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">utf8Capitalized</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">utf8ToUpperOrLower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="cm">/*toLower=*/</span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="cm">/*toInitCap=*/</span><span class="nb">true</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="c1">// convert an English sentence to title case</span>
<span class="c1">// Since title case is an English thing, we only consider ASCII characters.</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">toEnglishTitleCase</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">// process token by token</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">wordStartChars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">wordInternalChars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wordStartChars</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&#39;&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// don&#39;t title-case letters after word-internal apostrophe</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">set</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exceptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// from moses-scripts/scripts/recaser/detruecase.perl</span>
<span class="w">    </span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;after&quot;</span><span class="p">,</span><span class="s">&quot;against&quot;</span><span class="p">,</span><span class="s">&quot;al-.+&quot;</span><span class="p">,</span><span class="s">&quot;and&quot;</span><span class="p">,</span><span class="s">&quot;any&quot;</span><span class="p">,</span><span class="s">&quot;as&quot;</span><span class="p">,</span><span class="s">&quot;at&quot;</span><span class="p">,</span><span class="s">&quot;be&quot;</span><span class="p">,</span><span class="s">&quot;because&quot;</span><span class="p">,</span><span class="s">&quot;between&quot;</span><span class="p">,</span><span class="s">&quot;by&quot;</span><span class="p">,</span><span class="s">&quot;during&quot;</span><span class="p">,</span><span class="s">&quot;el-.+&quot;</span><span class="p">,</span><span class="s">&quot;for&quot;</span><span class="p">,</span><span class="s">&quot;from&quot;</span><span class="p">,</span><span class="s">&quot;his&quot;</span><span class="p">,</span><span class="s">&quot;in&quot;</span><span class="p">,</span><span class="s">&quot;is&quot;</span><span class="p">,</span><span class="s">&quot;its&quot;</span><span class="p">,</span><span class="s">&quot;last&quot;</span><span class="p">,</span><span class="s">&quot;not&quot;</span><span class="p">,</span><span class="s">&quot;of&quot;</span><span class="p">,</span><span class="s">&quot;off&quot;</span><span class="p">,</span><span class="s">&quot;on&quot;</span><span class="p">,</span><span class="s">&quot;than&quot;</span><span class="p">,</span><span class="s">&quot;the&quot;</span><span class="p">,</span><span class="s">&quot;their&quot;</span><span class="p">,</span><span class="s">&quot;this&quot;</span><span class="p">,</span><span class="s">&quot;to&quot;</span><span class="p">,</span><span class="s">&quot;was&quot;</span><span class="p">,</span><span class="s">&quot;were&quot;</span><span class="p">,</span><span class="s">&quot;which&quot;</span><span class="p">,</span><span class="s">&quot;will&quot;</span><span class="p">,</span><span class="s">&quot;with&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">};</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">set</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wordPredChars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;&quot;&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;\&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">};</span><span class="w"> </span><span class="c1">// only capitalize words if following these characters (to avoid upper-casing word-internal SPM units)</span>
<span class="w">  </span><span class="c1">// These are tokenization heuristics, which may be incomplete.</span>
<span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">epos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">epos</span><span class="p">;</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">epos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// locate the next word</span>
<span class="w">    </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="n">wordStartChars</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span><span class="w"> </span><span class="c1">// find first letter</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">epos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">find_first_not_of</span><span class="p">(</span><span class="n">wordInternalChars</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// find first non-letter</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">epos</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">epos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">epos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// further checks of the word</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="sc">&#39;z&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// skip if already upper-case</span>
<span class="w">      </span><span class="k">continue</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">wordPredChars</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">pos</span><span class="mi">-1</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">wordPredChars</span><span class="p">.</span><span class="n">end</span><span class="p">())</span><span class="w"> </span><span class="c1">// skip if unexpected char before the word</span>
<span class="w">      </span><span class="k">continue</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exceptions</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">exceptions</span><span class="p">.</span><span class="n">end</span><span class="p">())</span><span class="w"> </span><span class="c1">// skip if in the exception list</span>
<span class="w">      </span><span class="k">continue</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// upper-case it</span>
<span class="w">    </span><span class="n">res</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">findReplace</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">what</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">withWhat</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="cm">/*= false*/</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">what</span><span class="p">);</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">;</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">what</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">withWhat</span><span class="p">.</span><span class="n">length</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">what</span><span class="p">.</span><span class="n">length</span><span class="p">(),</span><span class="w"> </span><span class="n">withWhat</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">all</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">double</span><span class="w"> </span><span class="nf">parseDouble</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w">  </span><span class="c1">// dummy char -- if we succeed to parse this, then there were extraneous characters after the number</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">rc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sscanf</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;%lf%c&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">ABORT_IF</span><span class="p">(</span><span class="n">rc</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Mal-formed number: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// parses a user-friendly number that can have commas and (some) units</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">parseNumber</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// get unit prefix</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">param</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">param</span><span class="p">.</span><span class="n">back</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">param</span><span class="p">.</span><span class="n">back</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;k&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="n">e3</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;K&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="n">e3</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="c1">// not technically correct but often used for k</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;M&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="n">e6</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;G&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="n">e9</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;T&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="n">e12</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">ABORT</span><span class="p">(</span><span class="s">&quot;Invalid or unsupported unit prefix &#39;{}&#39; in {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">param</span><span class="p">.</span><span class="n">back</span><span class="p">(),</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">param</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="c1">// we allow users to place commas in numbers (note: we are not actually verifying that they are in</span>
<span class="w">  </span><span class="c1">// the right place)</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">remove_if</span><span class="p">(</span><span class="n">param</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">param</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="p">[](</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;,&#39;</span><span class="p">;</span><span class="w"> </span><span class="p">});</span><span class="w"> </span><span class="c1">// use return value for future-proofing against nodiscard warning</span>
<span class="w">  </span><span class="n">param</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">param</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"> </span><span class="c1">// since we have that iterator now, we might as well shrink to fit</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">parseDouble</span><span class="p">(</span><span class="n">param</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">}</span><span class="w">  </span><span class="c1">// namespace utils</span>
<span class="p">}</span><span class="w">  </span><span class="c1">// namespace marian</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Marian NMT Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>